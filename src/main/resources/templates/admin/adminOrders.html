<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì£¼ë¬¸ ëª©ë¡</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<!--ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜-->
<div th:replace="fragments/homeHeader :: homeHeader"></div>

<div class="container mt-5">
    <h2 class="fw-bold mb-4">ğŸ§¾ ì „ì²´ ì£¼ë¬¸ ëª©ë¡</h2>

    <table class="table table-bordered">
        <thead>
        <tr>
            <th>ì£¼ë¬¸ë²ˆí˜¸</th>
            <th>íšŒì›ëª…</th>
            <th>ì£¼ë¬¸ì¼</th>
            <th>ìƒíƒœ</th>
            <th>ìˆ˜ëŸ‰</th>
            <th>ì´ ê¸ˆì•¡</th>

        </tr>
        </thead>
        <tbody id="orderTableBody">
        </tbody>
    </table>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(function () {
            $.get("/api/admin/orders", function (orders) {
                const body = $("#orderTableBody");
                orders.forEach(order => {
                    const row = `
          <tr>
            <td>${order.orderId}</td>
            <td>${order.memberName}</td>
            <td>${order.orderDate.replace('T', ' ').slice(0, 16)}</td>
            <td>${order.status}</td>
            <td>${order.itemCount}</td>
            <td>${order.totalPrice}</td>
          </tr>`;
                    body.append(row);
                });
            });
        });
    </script>

    <div class="mt-5">
        <a href="/admin" class="btn btn-secondary">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œë¡œ</a>
    </div>

</div>

</body>
</html>
